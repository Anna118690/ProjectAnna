{% extends 'base.html.twig' %}

{% block customstylesheets %}<link href="{{asset('assets/css/dashboard.css')}}" rel="stylesheet">{% endblock %}

{% block title %}E_Course_Booker{% endblock %}

{% block menu %}{% endblock %}

{% block content %}
<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
        <h5 class="my-0 mr-md-auto font-weight-normal">Your Profile management</h5>
        <a class="nav-link active" href="/"> Go to public site</a>      
        <nav class="my-2 my-md-0 mr-md-3">
            <a class="p-2 text-dark">Logged as  {{app.user.firstname}} {{app.user.lastname}}</a>
        </nav>
        <a class="btn btn-outline-primary" href="/logout">Logout</a>
    </div>

        <div class="row">
            <nav class="col-md-2 d-none d-md-block bg-light sidebar">
                <div class="sidebar-sticky">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="{{path('admin_main_page')}}">
                                <span data-feather="file"></span>
                                My profile
                            </a>
                        {%  if is_granted('ROLE_ADMIN') %}
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{path('courses')}}">
                                <span data-feather="file"></span>
                                Courses
                            </a>
                        </li>


                        <li class="nav-item">
                            <a class="nav-link" href="{{path('add')}}">
                                <span data-feather="shopping-cart"></span>
                                Upload a course
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{path('uploaddatafile')}}">
                                <span data-feather="shopping-cart"></span>
                                Upload a DataFiles for a Course
                            </a>
                        </li>

                        
                        <li class="nav-item">
                            <a class="nav-link" href="{{path('users')}}">
                                <span data-feather="users"></span>
                                Users
                            </a>
                        </li>
                        {% endif %}

                        <li class="nav-item">
                            <a class="nav-link" href="{{path('update')}}">
                                <span data-feather="users"></span>
                                Update Account
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{path('delete')}}">
                                <span data-feather="users"></span>
                                Delete Account
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{path('mycourses')}}">
                                <span data-feather="file"></span>
                                Show me my courses
                            </a>
                        </li>
                    </ul>
                    
                </div>
            </nav>

            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2"><a href="{{path('admin_main_page')}}">Dashboard</a></h1>
                </div>
                {% block mainadmin %}{% endblock %}
            </main>
            </div>
{% endblock %}
{% block footer_links %}{% endblock %}
{% block customjavascripts %}
<script>
    $('input[type="file"]').change(function (e) {
        var fileName = e.target.files[0].name;
        console.log(e.target.files[0]);
        $('.custom-file-label').html(fileName);
    });
</script>
{% endblock %}
